<!doctype html>

<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <title></title>
  <script src="../webcomponentsjs/webcomponents-lite.js"></script>
  <link rel="import" href="../paper-input/paper-input.html">
  <link rel="import" href="paper-input-demo-component.html">
  <link rel="import" href="notify-true.html">
  <link rel="import" href="notify-true-attr-demo.html">
</head>

<body>
  <div>
    <h3>This is demo for paper-input value-changed event</h3>
  </div>
  <div>
    <paper-input id="input"></paper-input>
  </div>
  <div class="">
    <h4>Value changed echo: <span id="valueChangedEcho"></span></h4>
    <h4>Event count: <span id="eventCount"></span></h4>
  </div>

  <div>
    <h3>This is paper-input-demo-component</h3>
  </div>
  <div>
    <paper-input-demo-component></paper-input-demo-component>
  </div>

  <div>
    <h3>This is notify-true component test</h3>
  </div>
  <div>
    <notify-true id="notifyInput"></notify-true>
  </div>
  <div class="">
    <h4>Value changed echo: <span id="ntValueChangedEcho"></span></h4>
    <h4>Event count: <span id="ntEventCount"></span></h4>
  </div>

  <div>
    <h3>This is notify-true-attr-demo</h3>
  </div>
  <div>
    <notify-true-attr-demo></notify-true-attr-demo>
  </div>

  <script>
    document.addEventListener('WebComponentsReady', function () {
      var input = document.getElementById('input');
      var echo = document.getElementById('valueChangedEcho');
      var eventCount = document.getElementById('eventCount');
      var count = 0;

      input.addEventListener('value-changed', function(event) {
        console.log('paper-input event.value: ' + event.detail.value);
        echo.textContent = event.detail.value;
        count += 1;
        eventCount.textContent = count;
      });

      input.value = "Lorem Ipsum";

      Polymer.dom(input).setAttribute('value', "Lorem Ipsum");

      input.value = "Lorem Ipsum";

      Polymer.dom(input).setAttribute('value', "Lorem Ipsum");

      var ntInput = document.getElementById('notifyInput');
      var ntEcho = document.getElementById('ntValueChangedEcho');
      var ntEventCount = document.getElementById('ntEventCount');
      var ntCount = 0;

      ntInput.addEventListener('value-changed', function(event) {
        console.log('notify-true event.value: ' + event.detail.value);
        ntEcho.textContent = event.detail.value;
        ntCount += 1;
        ntEventCount.textContent = ntCount;
      });

      ntInput.value = "Lorem Ipsum";
      Polymer.dom(ntInput).setAttribute('value', 'Lorem Ipsum');
    });

  </script>
</body>

</html>
